### 普通字符

表达式 | 说明
:--|:--
`.` 或 `[^\n\r]` | 任意字符（不含换行或回车）
`[A-Za-z]` | 字母
`[a-z]` | 小写字母
`[A-Z]` | 大写字母
`\d` 或 `[0-9]` | 数字
`\D` 或 `[^0-9]` | 非数字
`_` | 下划线
`\w` 或 `[A-Za-z0-9_]` | 字母、数字或下划线
`\W` 或 `[^A-Za-z0-9_]` | `\w` 的反集
`\S` | `\s` 的反集（非空白）

### 空白字符

表达式 | 说明
:--|:--
` ` | 空格
`\t` | 制表符（tab）
`\n` | 换行符（newline）
`\r` | 回车符（carriage return）
`\s` | 空格、制表符、换行或回车

### 字符集合

表达式 | 说明
:--|:--
`[xyz]` | 匹配 `x`、`y` 或 `z`
`[^xyz]` | 不匹配 `x`、`y`、`z`
`[1-3]` | 匹配 `1`、`2` 或 `3`
`[^1-3]` | 不匹配 `1`、`2`、`3`

- 可以把字符集合理解为：方括号 `[]` 内各字符之间的 **OR**。
- 在 `[` 后紧跟 `^` 表示“取反”（否定）该集合。
- 在字符集合内部，`.` 表示字面量的点号（不是“任意字符”）。

### 需要转义的字符

#### 字符集合之外

表达式 | 说明
:--|:--
`\.` | 点号（period）
`\^` | 脱字符（caret）
`\$` | 美元符（dollar sign）
`\|` | 竖线（pipe）
`\\` | 反斜杠（back slash）
`\/` | 正斜杠（forward slash）
`\(` | 左圆括号
`\)` | 右圆括号
`\[` | 左方括号
`\]` | 右方括号
`\{` | 左花括号
`\}` | 右花括号

#### 字符集合之内

表达式 | 说明
:--|:--
`\\` | 反斜杠（back slash）
`\]` | 右方括号

- `^` 只在紧跟 `[` 的位置才需要转义（否则通常表示字面量）。
- `-` 只在位于两个字母或两个数字之间时才需要转义（否则表示范围）。

### 量词

表达式 | 说明
:--|:--
`{2}` | 恰好 2 次
`{2,}` | 至少 2 次
`{2,7}` | 至少 2 次且不超过 7 次
`*` | 0 次或更多
`+` | 1 次或更多
`?` | 恰好 0 次或 1 次

- 量词写在被量化表达式的 **后面**。

### 边界

表达式 | 说明
:--|:--
`^` | 字符串开头
`$` | 字符串结尾
`\b` | 单词边界（word boundary）

- 单词边界匹配机制：
    - 字符串开头：若第一个字符是 `\w`。
    - 字符串中：若相邻两个字符中，前者为 `\w` 且后者为 `\W`。
    - 字符串结尾：若最后一个字符是 `\w`。

### 匹配

表达式 | 说明
:--|:--
`foo\|bar` | 匹配 `foo` 或 `bar`
`foo(?=bar)` | 若 `foo` 后面紧跟 `bar`，则匹配 `foo`（正向先行断言）
`foo(?!bar)` | 若 `foo` 后面不紧跟 `bar`，则匹配 `foo`（负向先行断言）
`(?<=bar)foo` | 若 `foo` 前面紧跟 `bar`，则匹配 `foo`（正向后行断言）
`(?<!bar)foo` | 若 `foo` 前面不紧跟 `bar`，则匹配 `foo`（负向后行断言）

### 分组与捕获

表达式 | 说明
:--|:--
`(foo)` | 捕获分组：匹配并捕获 `foo`
`(?:foo)` | 非捕获分组：匹配 `foo` 但不捕获
`(foo)bar\1` | `\1` 表示第 1 个捕获分组的反向引用；匹配 `foobarfoo`

- 捕获分组通常只在以下方法中有意义：
    - `string.match(regexp)`
    - `string.matchAll(regexp)`
    - `string.replace(regexp, callback)`
- `\N` 表示第 `N` 个捕获分组的反向引用；捕获分组从 1 开始编号。

## 参考与工具

- [MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions)
